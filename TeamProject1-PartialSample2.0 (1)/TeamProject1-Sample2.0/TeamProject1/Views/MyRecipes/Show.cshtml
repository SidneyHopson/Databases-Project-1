@model IEnumerable<TeamProject1.Models.RecipeDetails>
@{
    ViewData["Title"] = "Recipes";
    var Elements = ViewData["TypesArray"] as string[]; 
}

<h2>@ViewData["Title"]</h2>
<form asp-controller="MyRecipes" asp-action="Show">
    Recipe Name: <input type="text" name="id" />
    <input type="submit" />
</form>

<br />
<div>
    @foreach (var item in Model)
    {
        <h3>
            Recipe: @item.MyRecipe.Name
        </h3>
        <div>
            <p>@Elements[0]:</p>
            @if (item.I_common.Count > 0)
            {
                <table class="table">
                    <thead>
                        <tr>
                            <th>
                                @Html.DisplayNameFor(model => item.I_common[0].Ingredient.Name)
                            </th>
                            <th>
                                @Html.DisplayNameFor(model => item.I_common[0].Ingredient.Calories)
                            </th>
                            <th>
                                @Html.DisplayNameFor(model => item.I_common[0].Weight)
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var element in item.I_common)
                        {
                            <tr>
                                <td>
                                    @Html.DisplayFor(modelItem => element.Ingredient.Name)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => element.Ingredient.Calories)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => element.Weight)
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>
                <hr style="border:double" />
            }
            <p>Total Calories: @Html.DisplayFor(modelItem => item.Total_calories)</p>
        </div>
    }
</div>
